---
title: re002
layout: 'base.njk'
description: re002
---

<div id="secretContent" style="display: none;">
    <h1>Secret Content</h1>
    <p>This is the secret content. Only authenticated users can see this.</p>
</div>

<script>

console.log('All cookies on /vault/re002:', document.cookie);
function getCookie(name) {
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) return parts.pop().split(';').shift();
}

const secretContent = document.getElementById('secretContent');
const isAuthenticated = getCookie('authenticated')?.trim();
console.log('Authenticated cookie value on /secret-page:', isAuthenticated);

if (isAuthenticated !== 'true' && isAuthenticated !== true) {
    console.log('Not authenticated, redirecting to /vault...');
    window.location.href = '/vault'; // IMMEDIATE REDIRECT IF NOT 'true'
    secretContent.style.display = 'none'; // Ensure content is hidden
} else {
    console.log('User is authenticated on /secret-page.');
    secretContent.style.display = 'block'; // Show the content
}
</script>