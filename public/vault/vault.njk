---
title: vault
layout: 'base.njk'
description: Vault
---


<div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
  <form id="passwordForm" style="text-align: center;">
    <label for="password">Enter Key:</label>
    <input type="text" id="password" name="password" required>
    <button type="submit">Submit</button>
    <div id="validationResult"></div>
  </form>
</div>


  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const passwordForm = document.getElementById('passwordForm');
      const validationResult = document.getElementById('validationResult');

      passwordForm.addEventListener('submit', async (event) => {
        event.preventDefault();

        const password = document.getElementById('password').value;

        const response = await fetch('/.netlify/functions/validate', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
          },
          body: new URLSearchParams({ password }),
        });

        try {
          const data = await response.json();

          if (data.valid) {
            console.log('Password valid, redirecting to /secret-page...');
            window.location.href = '/secret-page'; // REDIRECT TO SECRET PAGE
          } else {
            validationResult.textContent = data.message;
            validationResult.style.color = 'white';
            console.log('Password invalid:', data.message);
          }
        } catch (error) {
          console.error('Error parsing JSON:', error);
          validationResult.textContent = 'An error occurred during validation.';
          validationResult.style.color = 'white';
        }
      });
    });
  </script>