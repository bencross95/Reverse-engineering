<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vault</title>
    <meta name="description" content="Vault">
    <meta property="og:description" content="Vault" />
    <meta property="og:image" content="https://reverseengineering.software/assets/images/ogimg.png" />
    <link rel="shortcut icon" type="image/png" href="assets/images/favicon.png" />
    <link rel="stylesheet" href="https://unpkg.com/tachyons@4.10.0/css/tachyons.min.css" />
    <link rel="stylesheet" href="/stylesheet.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/howler/2.2.4/howler.min.js" integrity="sha512-xi/RZRIF/S0hJ+yJJYuZ5yk6/8pCiRlEXZzoguSMl+vk2i3m6UjUO/WcZ11blRL/O+rnj94JRGwt/CHbc9+6EA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
</head>

<body>
    

<div style="display: flex; justify-content: center; align-items: center; height: 100vh;">
  <form id="passwordForm" style="text-align: center;">
    <label for="password">Enter Key:</label>
    <input type="text" id="password" name="password" required>
    <button type="submit">Submit</button>
    <div id="validationResult"></div>
  </form>
</div>


  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const passwordForm = document.getElementById('passwordForm');
      const validationResult = document.getElementById('validationResult');

      passwordForm.addEventListener('submit', async (event) => {
        event.preventDefault();

        const password = document.getElementById('password').value;

        const response = await fetch('/.netlify/functions/validate', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/x-www-form-urlencoded',
          },
          body: new URLSearchParams({ password }),
        });

        try {
          const data = await response.json();

          if (data.valid) {
            console.log('Password valid, redirecting to /secret-page...');
            window.location.href = '/secret-page'; // REDIRECT TO SECRET PAGE
          } else {
            validationResult.textContent = data.message;
            validationResult.style.color = 'white';
            console.log('Password invalid:', data.message);
          }
        } catch (error) {
          console.error('Error parsing JSON:', error);
          validationResult.textContent = 'An error occurred during validation.';
          validationResult.style.color = 'white';
        }
      });
    });
  </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script type="text/javascript" src="/animations.js"></script>
    <script type="text/javascript" src="/main.js"></script>
    <script type="text/javascript" src="/sound.js"></script>
</body>

</html>